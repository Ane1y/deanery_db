CREATE USER c##anely IDENTIFIED BY mypass;

GRANT connect, resource, dba TO c##anely;

ALTER USER c##anely IDENTIFIED BY qwe;

connect c##anely/qwe;

CREATE TABLE SUBJECT
( ID NUMBER(*, 0) GENERATED BY DEFAULT as IDENTITY(START with 1 INCREMENT by 1) NOT NULL,
NAME VARCHAR2(50 BYTE),

CONSTRAINT SUBJECT_PK PRIMARY KEY (ID)
);

CREATE TABLE GROUPS
( ID NUMBER(*, 0) GENERATED BY DEFAULT as IDENTITY(START with 1 INCREMENT by 1) NOT NULL,
NAME VARCHAR2(50 BYTE),

CONSTRAINT GROUPS_PK PRIMARY KEY (ID)
);

CREATE TABLE PEOPLE
( ID NUMBER(*, 0) GENERATED BY DEFAULT as IDENTITY(START with 1 INCREMENT by 1) NOT NULL,
FIRST_NAME VARCHAR2(20 BYTE),
LAST_NAME VARCHAR2(20 BYTE),
PATHER_NAME VARCHAR2(20 BYTE),
GROUP_ID NUMBER(*, 0) NOT NULL,
TYPE CHAR(1 BYTE),

CONSTRAINT PEOPLE_PK PRIMARY KEY (ID),

CONSTRAINT FK_PEOPLE_GROUPS FOREIGN KEY (GROUP_ID) REFERENCES GROUPS(ID)
);


CREATE TABLE MARKS
( ID NUMBER(*, 0) GENERATED BY DEFAULT as IDENTITY(START with 1 INCREMENT by 1) NOT NULL,
STUDENT_ID NUMBER(*, 0) NOT NULL,
SUBJECT_ID NUMBER(*, 0) NOT NULL,
TEACHER_ID NUMBER(*, 0) NOT NULL,

CONSTRAINT MARKS_PK PRIMARY KEY (ID),

CONSTRAINT fk_marks_subjects FOREIGN KEY (SUBJECT_ID) REFERENCES SUBJECT(ID),
CONSTRAINT fk_marks_people1 FOREIGN KEY (STUDENT_ID) REFERENCES PEOPLE(ID),
CONSTRAINT fk_marks_people2 FOREIGN KEY (TEACHER_ID) REFERENCES PEOPLE(ID)
);

INSERT INTO GROUPS (name) 
VALUES ('3084/1_2018'); 

INSERT INTO GROUPS (name) 
VALUES ('3084/2_2018'); 
INSERT INTO GROUPS (name) 
VALUES ('1084/1_2020'); 
INSERT INTO GROUPS (name) 
VALUES ('1084/2_2020');
INSERT INTO GROUPS (name) 
VALUES ('2084/1_2019'); 
INSERT INTO GROUPS (name) 
VALUES ('2084/2_2019'); 


INSERT INTO SUBJECT (name) 
VALUES ('Цифровая обработка сигналов');
INSERT INTO SUBJECT (name) 
VALUES ('Микропроцессоры');
INSERT INTO SUBJECT (name) 
VALUES ('СУБД');
INSERT INTO SUBJECT (name) 
VALUES ('Физика');
INSERT INTO SUBJECT (name) 
VALUES ('Высшая математика');

INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (81, 2, 61, 5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (81, 3, 62, 5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (81, 4, 65, 4);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (81, 5, 66, 5);

INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (82, 2, 61, 4);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (82, 3, 62, 3);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (82, 4, 65, 4);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (82, 5, 66, 4);

INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (121, 2, 61, 5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (121, 3, 62, 5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (121, 4, 65, 4);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (121, 5, 66, 4);

INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (84, 2, 61, 3);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (84, 3, 62,3);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (84, 4, 65, 3);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (84, 5, 66, 4);

INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (122, 2, 61, 5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (122, 3, 62,5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (122, 4, 65, 5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (122, 5, 66, 5);

INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (123, 2, 61, 4);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (123, 3, 62,5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (123, 4, 65, 5);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (123, 5, 66, 4);

INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (124, 2, 61, 4);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (124, 3, 62,4);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (124, 4, 65, 4);
INSERT INTO MARKS(STUDENT_ID, SUBJECT_ID, TEACHER_ID, VALUE)
values (124, 5, 66, 4);